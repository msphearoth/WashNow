<ion-header>
  <ion-navbar transparent>
    <button ion-button menuToggle start>
      <ion-icon name="ios-menu-outline" color="green"></ion-icon>
    </button>

    <form (submit)="setNotification()">
      <ion-buttons end>
        <button ion-button icon-only type="submit">
          <ion-icon name="{{notification}}" [color]="(notification == 'notifications-off') ? 'danger' : 'green'"></ion-icon>
        </button>
      </ion-buttons>
    </form>
  </ion-navbar>
</ion-header>

<ion-content no-padding class="dark-theme">

  <ion-grid>
    <ion-row class="map-button center">
      <ion-col col-12>
         <button ion-button round color="green" class="round-button" (click) = 'openMap()'><ion-icon name="pin"></ion-icon></button>
      </ion-col>
    </ion-row>
    <ion-row class="location-name center">
      <ion-col col-12>{{ locationName }}</ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-12>
        <ion-row>
          <ion-col col-12><i>Last update:</i></ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-6><i>{{ lastUpdateDateTime | date: 'yyyy/MM/dd H:mm:ss' }}</i></ion-col>
          <ion-col col-6 class="align-right"><i>Available: {{ availableMachines }}</i></ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row class="center">
      <ion-col col-12>
        <ion-list no-border class="dark-list">
          <ion-item *ngFor="let item of items">
            <ion-icon name='icon-washer-machine' item-start></ion-icon>
            {{ item.machineName }}
            <ion-icon name='ios-bulb' [color]="(item.status == 1) ? 'danger' : 'green'" item-end></ion-icon>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-dropdown"
      refreshingSpinner="crescent">
      </ion-refresher-content>
  </ion-refresher>
</ion-content>
